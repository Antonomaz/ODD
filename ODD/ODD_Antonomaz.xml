<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_odds.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_odds.rng" type="application/xml"
	schematypens="http://purl.oclc.org/dsdl/schematron"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:sch="http://purl.oclc.org/dsdl/schematron">
    <teiHeader>
        <fileDesc>
            <titleStmt>
                <title>ODD ANTONOMAZ</title>
                <author>
                    <name>Camille Roblin</name>
                </author>
                <author>
                    <name>Alexandre Bartz</name>
                    <idno type="ORCID" n="0000-0003-0850-8266"/>
                </author>
            </titleStmt>
            <publicationStmt>
                <publisher>Projet ANTONOMAZ / Sorbonne Université</publisher>
                <availability status="restricted" n="cc-by">
                    <licence target="https://creativecommons.org/licenses/by/4.0"/>
                </availability>
            </publicationStmt>
            <sourceDesc>
                <p>Créé en
                    <date when="2021-04">avril 2021</date> par <name>Camille Roblin</name></p>
            </sourceDesc>
        </fileDesc>
        <revisionDesc>
            <change when="2021-05-25" who="orcid:0000-0003-0850-8266">Reprise du travail de
                    <name>Camille Roblin</name>, ajout de contraintes schematron.</change>
            <change when="2021-09-06" who="orcid:0000-0003-0850-8266">Ajout d'un
                    <gi>settingDesc</gi> pour encoder les évènements auxquels font référence les
                mazarinades (un <gi>setting</gi> par évènement).</change>
            <change when="2021-11-05" who="orcid:0000-0003-0850-8266">Ajout de <gi>imprimatur</gi>
                pour encoder les autorisations d'impression.</change>
        </revisionDesc>
    </teiHeader>
    <!--
        Changement futurs à ajouter :
            - prévoir un @type pour date et pubPlace qui permet de différencier les informations contenues sur le document des 
            informations ajoutées par le projet (faux lieux de publication, date plus précise trouvée, etc.)
            -->
    <text>
        <body>
            <xi:include href="../Documentation/documentation.xml"/>
            <div type="schemas">
                <schemaSpec ident="ANTONOMAZ" start="TEI" prefix="tei_">
                    <moduleRef key="tei"/>
                    <moduleRef key="header"
                        include="abstract availability change editorialDecl encodingDesc extent fileDesc idno 
                        keywords language langUsage licence profileDesc projectDesc publicationStmt revisionDesc sourceDesc 
                        teiHeader textClass titleStmt"/>
                    <moduleRef key="textstructure" include="body TEI text imprimatur"/>
                    <moduleRef key="core"
                        include="author bibl biblStruct cb choice corr date editor foreign head hi imprint l lb lg measure monogr 
                        name note p pb publisher pubPlace ref resp respStmt sic term title unclear"/>
                    <moduleRef key="msdescription"
                        include="history institution msDesc msIdentifier provenance repository stamp"/>
                    <moduleRef key="transcr" include="fw space"/>
                    <moduleRef key="namesdates"
                        include="affiliation forename orgName persName roleName settlement surname"/>
                    <moduleRef key="corpus" include="setting settingDesc"/>
                    <!-- Règles d'encodage à appliquer au corpus -->
                    <elementSpec ident="TEI" mode="change">
                        <constraintSpec ident="xmlid" scheme="schematron">
                            <constraint>
                                <sch:rule context="tei:TEI">
                                    <sch:let name="fileName"
                                        value="tokenize(document-uri(/), '/')[last()]"/>
                                    <sch:assert
                                        test="string(@xml:id) = substring-before($fileName, '.xml')"
                                        role="error">L'identifiant du document et le nom du fichier
                                        doivent être les mêmes. Actuellement @xml:id est
                                            "<sch:value-of select="@xml:id"/>" alors que le nom du
                                        fichier est "<sch:value-of select="$fileName"/>"
                                    </sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                        <attList>
                            <attDef ident="xml:id" mode="change" usage="req"/>
                        </attList>
                    </elementSpec>
                    <!-- Règles concernant le header -->
                    <elementSpec ident="fileDesc" mode="change">
                        <content>
                            <elementRef key="titleStmt"/>
                            <elementRef key="publicationStmt"/>
                            <elementRef key="sourceDesc"/>
                        </content>
                    </elementSpec>
                    <!-- titleStmt -->
                    <elementSpec ident="titleStmt" mode="change">
                        <content>
                            <elementRef key="title" minOccurs="2" maxOccurs="2"/>
                            <elementRef key="respStmt"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="title" mode="change">
                        <constraintSpec ident="titleType" scheme="schematron">
                            <constraint>
                                <sch:rule context="tei:titleStmt/tei:title">
                                    <sch:assert test="@type" role="error">Ajouter un attribut @type
                                        (valeur 'main' ou 'sub') </sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                        <constraintSpec ident="guillemet" scheme="schematron">
                            <constraint>
                                <sch:rule context="tei:titleStmt/tei:title">
                                    <sch:assert test="not(./starts-with(., '&quot;'))" role="error"
                                        >Le titre ne peut commencer par un guillement</sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                        <constraintSpec ident="editionType" scheme="schematron">
                            <constraint>
                                <sch:rule
                                    context="tei:titleStmt/tei:title/@type[contains(., 'sub')]">
                                    <sch:assert test="../contains(.,'Édition Antonomaz')"
                                        role="error">Le texte doit être "Édition
                                        Antonomaz"</sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                        <attList>
                            <attDef ident="type" mode="change" usage="rec">
                                <valList mode="add" type="closed">
                                    <valItem ident="main"/>
                                    <valItem ident="sub"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="respStmt" mode="change">
                        <content>
                            <elementRef key="resp"/>
                            <elementRef key="persName" minOccurs="1" maxOccurs="unbounded"/>
                        </content>
                    </elementSpec>
                    <!-- publicationStmt -->
                    <elementSpec ident="publicationStmt" mode="change">
                        <content>
                            <elementRef key="publisher" minOccurs="1" maxOccurs="unbounded"/>
                            <elementRef key="ref" minOccurs="1" maxOccurs="1"/>
                            <elementRef key="date" minOccurs="1" maxOccurs="unbounded"/>
                            <elementRef key="availability"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="date" mode="change">
                        <attList>
                            <attDef ident="source" mode="change" usage="rec">
                                <valList mode="change" type="closed">
                                    <valItem ident="Moreau"/>
                                    <valItem ident="Carrier"/>
                                </valList>
                            </attDef>
                            <attDef ident="when" mode="change" usage="rec"/>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="availability" mode="change">
                        <attList>
                            <attDef ident="status" mode="change" usage="req"/>
                            <attDef ident="n" mode="change" usage="req"/>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="licence" mode="change">
                        <attList>
                            <attDef ident="target" mode="change" usage="req"/>
                        </attList>
                    </elementSpec>
                    <!-- sourceDesc -->
                    <elementSpec ident="sourceDesc" mode="change">
                        <content>
                            <elementRef key="bibl"/>
                            <elementRef key="msDesc"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="bibl" mode="change">
                        <content>
                            <elementRef key="ref" minOccurs="1" maxOccurs="unbounded"/>
                            <elementRef key="author" minOccurs="1" maxOccurs="unbounded"/>
                            <elementRef key="persName" minOccurs="0" maxOccurs="unbounded"/>
                            <elementRef key="editor" minOccurs="0" maxOccurs="unbounded"/>
                            <elementRef key="title" minOccurs="1" maxOccurs="unbounded"/>
                            <elementRef key="pubPlace" minOccurs="1" maxOccurs="unbounded"/>
                            <elementRef key="publisher" minOccurs="1" maxOccurs="unbounded"/>
                            <elementRef key="date" minOccurs="1" maxOccurs="unbounded"/>
                            <elementRef key="extent" minOccurs="1" maxOccurs="1"/>
                            <elementRef key="note" minOccurs="1" maxOccurs="unbounded"/>
                            <elementRef key="ref" minOccurs="0"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="ref" mode="change">
                        <attList>
                            <attDef ident="target" mode="change" usage="req"/>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="author" mode="change">
                        <attList>
                            <attDef ident="ref" mode="change" usage="rec"/>
                        </attList>
                        <constraintSpec ident="ref" scheme="schematron">
                            <constraint>
                                <sch:rule context="tei:author[@ref]">
                                    <sch:assert test="./@ref/starts-with(.,'isni:')" role="error"
                                        >Ajouter un identifiant isni.</sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                    </elementSpec>
                    <elementSpec ident="persName" mode="change">
                        <attList>
                            <attDef ident="role" mode="change" usage="rec"/>
                            <attDef ident="ref" mode="change" usage="rec"/>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="publisher" mode="change">
                        <attList>
                            <attDef ident="ref" mode="change" usage="rec"/>
                        </attList>
                        <constraintSpec ident="ref" scheme="schematron">
                            <constraint>
                                <sch:rule context="tei:publisher[@ref]">
                                    <sch:assert test="./@ref/starts-with(.,'isni:')" role="error"
                                        >Ajouter un identifiant isni.</sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                    </elementSpec>
                    <elementSpec ident="forename" mode="change">
                        <attList>
                            <attDef ident="ref" mode="delete"/>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="surname" mode="change">
                        <attList>
                            <attDef ident="ref" mode="delete"/>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="pubPlace" mode="change">
                        <attList>
                            <attDef ident="ref" mode="change" usage="rec"/>
                        </attList>
                        <constraintSpec ident="ref" scheme="schematron">
                            <constraint>
                                <sch:rule context="tei:pubPlace[@ref]">
                                    <sch:assert test="./@ref/starts-with(.,'geonames:')"
                                        role="error">Ajouter un identifiant geonames.</sch:assert>
                                </sch:rule>
                            </constraint>
                        </constraintSpec>
                    </elementSpec>
                    <elementSpec ident="measure" mode="change">
                        <attList>
                            <attDef ident="unit" mode="change" usage="req">
                                <valList mode="add" type="closed">
                                    <valItem ident="page"/>
                                    <valItem ident="word"/>
                                </valList>
                            </attDef>
                            <attDef ident="quantity" mode="change" usage="req"/>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="note" mode="change">
                        <attList>
                            <attDef ident="type" mode="change" usage="rec">
                                <valList mode="add" type="closed">
                                    <valItem ident="BM_identifier"/>
                                    <valItem ident="format"/>
                                    <valItem ident="edition"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="msDesc" mode="change">
                        <content>
                            <elementRef key="msIdentifier"/>
                            <elementRef key="msContents"/>
                            <elementRef key="physDesc"/>
                            <elementRef key="history"/>
                            <elementRef key="additional"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="msIdentifier" mode="change">
                        <content>
                            <elementRef key="settlement"/>
                            <elementRef key="institution"/>
                            <elementRef key="repository"/>
                            <elementRef key="idno"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="idno" mode="change">
                        <attList>
                            <attDef ident="type" mode="change" usage="req">
                                <valList mode="add" type="closed">
                                    <valItem ident="cote"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="additional" mode="change">
                        <content>
                            <elementRef key="surrogates"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="surrogates" mode="change">
                        <content>
                            <elementRef key="bibl"/>
                        </content>
                    </elementSpec>
                    <!-- encodingDesc-->
                    <elementSpec ident="encodingDesc" mode="change">
                        <content>
                            <elementRef key="projectDesc"/>
                            <elementRef key="editorialDecl"/>
                        </content>
                    </elementSpec>
                    <!-- profileDesc-->
                    <elementSpec ident="profileDesc" mode="change">
                        <content>
                            <elementRef key="langUsage"/>
                            <elementRef key="abstract"/>
                            <elementRef key="textClass"/>
                            <elementRef key="settingDesc" minOccurs="0" maxOccurs="1"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="language" mode="change">
                        <attList>
                            <attDef ident="ident" mode="change" usage="req">
                                <valList mode="add" type="closed">
                                    <valItem ident="fra"/>
                                    <valItem ident="lat"/>
                                    <valItem ident="oci"/>
                                    <valItem ident="ita"/>
                                    <valItem ident="other"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="textClass" mode="change">
                        <content>
                            <elementRef key="keywords"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="keywords" mode="change">
                        <content>
                            <elementRef key="term" maxOccurs="unbounded"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="term" mode="change">
                        <attList>
                            <attDef ident="type" mode="change" usage="req">
                                <valList mode="add" type="closed">
                                    <valItem ident="form"/>
                                    <valItem ident="genre"/>
                                    <valItem ident="subgenre"/>
                                    <valItem ident="subject"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="settingDesc" mode="change">
                        <content>
                            <elementRef key="setting" minOccurs="1" maxOccurs="unbounded"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="setting" mode="change">
                        <content>
                            <elementRef key="p" minOccurs="1" maxOccurs="1"/>
                            <elementRef key="date" minOccurs="1" maxOccurs="1"/>
                        </content>
                        <attList>
                            <attDef ident="source" mode="change" usage="req"/>
                            <attDef ident="xml:id" mode="change" usage="req"/>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="revisionDesc" mode="change">
                        <content>
                            <elementRef key="change" minOccurs="0" maxOccurs="unbounded"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="change" mode="change">
                        <attList>
                            <attDef ident="status" mode="change" usage="req">
                                <valList mode="add" type="closed">
                                    <valItem ident="not_corrected"/>
                                    <valItem ident="corrected"/>
                                </valList>
                            </attDef>
                            <attDef ident="when" mode="change" usage="rec"/>
                            <attDef ident="who" mode="change" usage="rec"/>
                        </attList>
                    </elementSpec>
                    <!-- Règles concernant le texte -->
                    <elementSpec ident="pb" mode="change">
                        <attList>
                            <attDef ident="n" mode="change" usage="req"/>
                            <attDef ident="facs" mode="change" usage="rec"/>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="p" mode="change">
                        <content>
                            <sequence preserveOrder="false">
                                <elementRef key="lb" minOccurs="0" maxOccurs="unbounded"/>
                                <textNode/>
                                <elementRef key="imprimatur" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="pb" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="choice" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="corr" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="sic" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="fw" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </content>
                    </elementSpec>
                    <elementSpec ident="l" mode="change">
                        <content>
                            <sequence preserveOrder="false">
                                <elementRef key="lb" minOccurs="0" maxOccurs="unbounded"/>
                                <textNode/>
                                <elementRef key="imprimatur" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="pb" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="choice" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="corr" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="sic" minOccurs="0" maxOccurs="unbounded"/>
                                <elementRef key="fw" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </content>
                    </elementSpec>
                    <elementSpec ident="fw" mode="change">
                        <attList>
                            <attDef ident="place" mode="change" usage="rec">
                                <valList mode="add" type="closed">
                                    <valItem ident="right"/>
                                    <valItem ident="left"/>
                                    <valItem ident="center"/>
                                    <valItem ident="top-left"/>
                                    <valItem ident="top-right"/>
                                    <valItem ident="top-center"/>
                                    <valItem ident="bot-left"/>
                                    <valItem ident="bot-right"/>
                                    <valItem ident="bot-center"/>
                                </valList>
                            </attDef>
                            <attDef ident="type" mode="change" usage="rec">
                                <valList mode="add" type="closed">
                                    <valItem ident="pageNum"/>
                                    <valItem ident="catch"/>
                                    <valItem ident="sig"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="lb" mode="change">
                        <attList>
                            <attDef ident="break" mode="change">
                                <valList mode="add" type="closed">
                                    <valItem ident="yes"/>
                                    <valItem ident="no"/>
                                </valList>
                            </attDef>
                            <attDef ident="rend" mode="change">
                                <valList mode="add" type="closed">
                                    <valItem ident="¬"/>
                                    <valItem ident="indent"/>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>
                    <elementSpec ident="choice" mode="change">
                        <content>
                            <elementRef key="sic"/>
                            <elementRef key="corr"/>
                        </content>
                    </elementSpec>
                    <elementSpec ident="foreign" mode="change">
                        <attList>
                            <attDef ident="xml:lang" mode="change" usage="req">
                                <valList mode="add" type="closed">
                                    <valItem ident="la">
                                        <desc>Latin</desc>
                                    </valItem>
                                </valList>
                            </attDef>
                        </attList>
                    </elementSpec>
                </schemaSpec>
            </div>
        </body>
    </text>
</TEI>
